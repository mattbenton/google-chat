<script src="../vendor/socket.io/socket.io.min.js"></script>
<script>
  var socket = io.connect('http://matt.gs:8080');
  socket.on('hi', function(data) {
    // alert(data.text);
  });
  // socket.on('news', function (data) {
  //   console.log(data);
  //   socket.emit('my other event', { my: 'data' });
  // });
</script>

<span id="signinButton">
  <span
    class="g-signin"
    data-callback="signinCallback"
    data-clientid="393675061321.apps.googleusercontent.com"
    data-cookiepolicy="single_host_origin"
    data-requestvisibleactions="http://schemas.google.com/AddActivity"
    data-scope="https://www.googleapis.com/auth/userinfo.email">
  </span>
</span>

<script>
function signinCallback(authResult) {
  if (authResult['access_token']) {
    console.log(authResult);
    // Successfully authorized
    // Hide the sign-in button now that the user is authorized, for example:
    document.getElementById('signinButton').setAttribute('style', 'display: none');
  } else if (authResult['error']) {
    // There was an error.
    // Possible error codes:
    //   "access_denied" - User denied access to your app
    //   "immediate_failed" - Could not automatically log in the user
    // console.log('There was an error: ' + authResult['error']);
  }
}
// gapi.client.load('oauth2', 'v2', function() {
//   gapi.client.oauth2.userinfo.get().execute(function(resp) {
//     // Shows user email
//     console.log(resp.email);
//   })
// });

// gapi.client.load('plus', 'v1', function() {
//   gapi.client.plus.people.get( {'userId' : 'me'} ).execute(function(resp) {
//     // Shows profile information
//     console.log(resp);
//   })
// });
function asdf() {
  console.log('done', gapi);
  gapi.client.load('oauth2', 'v2', function() {
    gapi.client.oauth2.userinfo.get().execute(function(resp) {
      console.log(resp);
    });
  });
}
</script>

<script type="text/javascript">
  (function() {
   var po = document.createElement('script'); po.type = 'text/javascript'; po.async = true;
   po.src = 'https://apis.google.com/js/client:plusone.js?onload=asdf';
   var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(po, s);
 })();
</script>